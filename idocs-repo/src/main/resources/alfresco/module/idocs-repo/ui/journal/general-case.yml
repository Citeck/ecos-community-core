
id: general-case
label: { ru: Стандартный кейс, en: General Case}

actions:
  - uiserv/action@view-dashboard
  - uiserv/action@edit

columns:
  - name: tk:kind
    computed:
      - id: _options
        type: script
        config:
          script: |
            var url = Alfresco.constants.PROXY_URI + 'citeck/node/child-assocs?nodeRef=' +
                'workspace://SpacesStore/cat-doc-type-general-case' +
                '&assocType=cm:subcategories';

            var request = new XMLHttpRequest();
            request.open('GET', url, false);
            request.send(null);

            if (request.status === 200) {
              var jsonResult = JSON.parse(request.response);
              if (jsonResult && jsonResult.nodes && jsonResult.nodes.length > 0) {
                return jsonResult.nodes;
              }
            }
            return [];

  - name: cm:name
  - name: idocs:note
  - name: ecos:documentNumber
  - name: ecos:documentDate
  - name: idocs:legalEntity
  - name: idocs:contractor
  - name: ecos:documentAmount
  - name: idocs:currencyDocument
  - name: ecos:VAT
  - name: ecos:startDate
  - name: ecos:stopDate
