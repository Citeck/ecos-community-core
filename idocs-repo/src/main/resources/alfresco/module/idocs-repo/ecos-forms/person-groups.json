{
  "id": "cm_person_user_groups",
  "formKey": "alf_cm:person",
  "title": {
    "en": "Groups",
    "ru": "Группы"
  },
  "description": {
    "en": ""
  },
  "customModule": null,
  "typeRef": "emodel/type@person",
  "width": "default",
  "i18n": {
    "ru": {
      "loading": "Загрузка..."
    },
    "en": {
      "loading": "Loading..."
    }
  },
  "definition": {
    "components": [
      {
        "label": "personGroups",
        "hideLabel": true,
        "disabled": true,
        "defaultValue": "",
        "customDefaultValue": "value = instance.t('loading');",
        "calculateValue": "const { groupData } = data || {};\nconst { groups } = groupData || {};\n\nif (_.isArray(groups) && groups.length){\n  value = groups.join(';\\n') + '.';\n}",
        "key": "personGroups",
        "rows": 16,
        "type": "textarea",
        "input": true
      },
      {
        "label": "groupData",
        "source": {
          "type": "record",
          "record": {
            "id": "{{recordId}}",
            "attributes": {
              "groups": "assoc_src_cm:member[]?disp"
            }
          },
          "forceLoad": false
        },
        "update": {
          "type": "once"
        },
        "key": "groupData",
        "type": "asyncData",
        "input": true,
        "conditional": {
          "show": null,
          "when": null
        }
      }
    ]
  },
  "attributes": {}
}
