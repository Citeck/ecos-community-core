{
  "id": "ebd4ef72-cea8-4479-95f9-a6612d91a0b0",
  "formKey": "alf_idocs:legalEntity",
  "title": {
    "en": "Legal Entity form"
  },
  "description": {
    "en": ""
  },
  "customModule": null,
  "typeRef": "",
  "width": "default",
  "i18n": {
    "en": {
      "Create": "Create",
      "Cancel": "Cancel",
      "Main details": "Main details",
      "Bank details": "Bank details",
      "Save": "Save",
      "Name": "Name",
      "Addresses": "Addresses",
      "Requisites": "Requisites",
      "Contact details": "Contact details"
    },
    "ru": {
      "Create": "Создать",
      "Cancel": "Отмена",
      "Main details": "Основные реквизиты",
      "Bank details": "Банковские реквизиты",
      "Save": "Сохранить",
      "Name": "Название",
      "Addresses": "Адреса",
      "Requisites": "Реквизиты",
      "Contact details": "Контактные данные"
    }
  },
  "definition": {
    "display": "form",
    "components": [
      {
        "components": [
          {
            "label": "Main details",
            "key": "Main details",
            "components": [
              {
                "scrollableContent": true,
                "key": "panel6",
                "type": "panel",
                "input": false,
                "components": [
                  {
                    "title": "Name",
                    "key": "panel2",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:fullOrganizationName",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_fullOrganizationName",
                                "properties": {
                                  "attribute": "idocs:fullOrganizationName"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 0
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:shortOrganizationName",
                                "defaultValue": "",
                                "key": "idocs_shortOrganizationName",
                                "properties": {
                                  "attribute": "idocs:shortOrganizationName"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 1
                          },
                          {
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:engOrganizationName",
                                "defaultValue": "",
                                "key": "idocs_engOrganizationName",
                                "properties": {
                                  "attribute": "idocs:engOrganizationName"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 2
                          }
                        ],
                        "key": "columns",
                        "type": "columns",
                        "input": false
                      }
                    ]
                  },
                  {
                    "title": "Addresses",
                    "key": "panel3",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:juridicalAddress",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_juridicalAddress",
                                "properties": {
                                  "attribute": "idocs:juridicalAddress"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 0
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:postAddress",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_postAddress",
                                "properties": {
                                  "attribute": "idocs:postAddress"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 1
                          }
                        ],
                        "key": "columns9",
                        "type": "columns",
                        "input": false
                      }
                    ]
                  },
                  {
                    "title": "Requisites",
                    "key": "panel4",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:inn",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_inn",
                                "properties": {
                                  "attribute": "idocs:inn"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 0
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:kpp",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_kpp",
                                "properties": {
                                  "attribute": "idocs:kpp"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 1
                          },
                          {
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:okpo",
                                "defaultValue": "",
                                "key": "idocs_okpo",
                                "properties": {
                                  "attribute": "idocs:okpo"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 2
                          },
                          {
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:ogrn",
                                "defaultValue": "",
                                "key": "idocs_ogrn",
                                "properties": {
                                  "attribute": "idocs:ogrn"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 3
                          },
                          {
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column888",
                            "components": [
                              {
                                "label": "idocs:gln",
                                "clearOnHide": false,
                                "defaultValue": "",
                                "validate": {
                                  "pattern": "^\\d{13}$|^$",
                                  "customMessage": "Некорректный GLN"
                                },
                                "key": "idocs_gln",
                                "properties": {
                                  "attribute": "idocs:gln"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "index": 4,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns8",
                        "type": "columns",
                        "input": false
                      }
                    ]
                  },
                  {
                    "title": "Contact details",
                    "key": "panel5",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:phone",
                                "defaultValue": "",
                                "key": "idocs_phone",
                                "properties": {
                                  "attribute": "idocs:phone"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 0
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:fax",
                                "defaultValue": "",
                                "key": "idocs_fax",
                                "properties": {
                                  "attribute": "idocs:fax"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 1
                          },
                          {
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:email",
                                "defaultValue": "",
                                "validate": {
                                  "custom": "var regex = RegExp('^(|[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]+)$');\n\nvalid = regex.test(input) ? true : (instance.options.language == 'ru') ? 'Некорректное значение' : 'Incorrect value';"
                                },
                                "key": "idocs_email",
                                "properties": {
                                  "attribute": "idocs:email"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            },
                            "index": 2
                          }
                        ],
                        "key": "columns7",
                        "type": "columns",
                        "input": false
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "idocs:generalDirector",
                            "allowedAuthorityType": "USER",
                            "allUsersGroup": "all",
                            "key": "idocs_generalDirector",
                            "properties": {
                              "attribute": "idocs:generalDirector"
                            },
                            "type": "selectOrgstruct",
                            "input": true
                          }
                        ],
                        "type": "column",
                        "input": false,
                        "key": "column10",
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        },
                        "index": 0
                      },
                      {
                        "components": [
                          {
                            "label": "idocs:accountantGeneral",
                            "allowedAuthorityType": "USER",
                            "allUsersGroup": "all",
                            "key": "idocs_accountantGeneral",
                            "properties": {
                              "attribute": "idocs:accountantGeneral"
                            },
                            "type": "selectOrgstruct",
                            "input": true
                          }
                        ],
                        "type": "column",
                        "input": false,
                        "key": "column11",
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        },
                        "index": 1
                      },
                      {
                        "md": 12,
                        "type": "column",
                        "input": false,
                        "key": "column12",
                        "components": [
                          {
                            "label": "eint:ediProviderInfoAssoc",
                            "isStaticModalTitle": true,
                            "source": {
                              "type": "custom",
                              "custom": {
                                "columns": [
                                  {
                                    "name": "eint:ediProviderBoxId",
                                    "formatter": "",
                                    "setAttributesManually": false
                                  },
                                  {
                                    "name": "eint:ediProviderType",
                                    "formatter": "",
                                    "setAttributesManually": false
                                  },
                                  {
                                    "name": "eint:ediProviderInfoIsActive",
                                    "formatter": "",
                                    "setAttributesManually": false
                                  }
                                ],
                                "record": null,
                                "attribute": null
                              }
                            },
                            "key": "eint_ediProviderInfoAssoc",
                            "properties": {
                              "attribute": "eint:ediProviderInfoAssoc"
                            },
                            "conditional": {
                              "show": "true",
                              "when": "isEdiEnabled",
                              "eq": "true"
                            },
                            "type": "tableForm",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        },
                        "index": 2
                      }
                    ],
                    "key": "columns5",
                    "type": "columns",
                    "input": false
                  }
                ]
              }
            ]
          },
          {
            "label": "Bank details",
            "key": "Bank details",
            "components": [
              {
                "scrollableContent": true,
                "key": "panel7",
                "type": "panel",
                "input": false,
                "components": [
                  {
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "idocs:bankTitle",
                            "defaultValue": "",
                            "validate": {
                              "required": true
                            },
                            "key": "idocs_bankTitle",
                            "properties": {
                              "attribute": "idocs:bankTitle"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "components": [
                          {
                            "label": "idocs:bankTitleEng",
                            "defaultValue": "",
                            "key": "idocs_bankTitleEng",
                            "properties": {
                              "attribute": "idocs:bankTitleEng"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:bankId",
                            "defaultValue": "",
                            "validate": {
                              "required": true
                            },
                            "key": "idocs_bankId",
                            "properties": {
                              "attribute": "idocs:bankId"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:accountNumber",
                            "defaultValue": "",
                            "validate": {
                              "required": true
                            },
                            "key": "idocs_accountNumber",
                            "properties": {
                              "attribute": "idocs:accountNumber"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:swift",
                            "defaultValue": "",
                            "key": "idocs_swift",
                            "properties": {
                              "attribute": "idocs:swift"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:corresponentBankTitle",
                            "defaultValue": "",
                            "key": "idocs_corresponentBankTitle",
                            "properties": {
                              "attribute": "idocs:corresponentBankTitle"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:correspondentBankId",
                            "defaultValue": "",
                            "key": "idocs_correspondentBankId",
                            "properties": {
                              "attribute": "idocs:correspondentBankId"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:corresponentAccountNumber",
                            "defaultValue": "",
                            "key": "idocs_corresponentAccountNumber",
                            "properties": {
                              "attribute": "idocs:corresponentAccountNumber"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "label": "Column",
                        "components": [
                          {
                            "label": "idocs:currencyEnabled",
                            "labelPosition": "",
                            "key": "idocs_currencyEnabled",
                            "properties": {
                              "attribute": "idocs:currencyEnabled"
                            },
                            "type": "checkbox",
                            "input": true
                          }
                        ],
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      }
                    ],
                    "key": "columns6",
                    "type": "columns",
                    "input": false
                  }
                ]
              }
            ]
          }
        ],
        "key": "tabs2",
        "type": "tabs",
        "input": false
      },
      {
        "columns": [
          {
            "components": [
              {
                "label": "isEdiEnabled",
                "source": {
                  "type": "ajax",
                  "ajax": {
                    "url": "/citeck/ecosConfig/ecos-config-value",
                    "data": "value = {'configName': 'electronic-document-management'};",
                    "mapping": "const { value: val } = data || {};\nvalue = val;",
                    "method": "GET"
                  },
                  "forceLoad": false
                },
                "update": {
                  "type": "once"
                },
                "key": "isEdiEnabled",
                "type": "asyncData",
                "input": true
              }
            ],
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 0
          },
          {
            "components": [
              {
                "label": "Cancel",
                "action": "event",
                "state": "",
                "showValidations": false,
                "event": "cancel",
                "block": true,
                "key": "Cancel",
                "type": "button",
                "input": true
              }
            ],
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 1
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "components": [
              {
                "label": "Create",
                "state": "",
                "theme": "primary",
                "block": true,
                "disableOnInvalid": true,
                "key": "Create",
                "type": "button",
                "input": true
              }
            ],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 2
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "components": [],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 3
          }
        ],
        "key": "columns10",
        "customConditional": "var isDraftStatus = false;\r\nif (data.caseStatus) {\r\n  isDraftStatus = data.caseStatus.status === \"draft\";\r\n}\r\nvar isCreateMode = instance.options.formMode === 'CREATE';\r\nshow = isDraftStatus || isCreateMode;\r\n",
        "type": "columns",
        "input": false
      },
      {
        "columns": [
          {
            "components": [],
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 0
          },
          {
            "components": [
              {
                "label": "Cancel",
                "action": "event",
                "state": "",
                "showValidations": false,
                "event": "cancel",
                "block": true,
                "key": "Cancel2",
                "type": "button",
                "input": true
              }
            ],
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 1
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "components": [
              {
                "label": "Save",
                "state": "",
                "theme": "primary",
                "block": true,
                "disableOnInvalid": true,
                "key": "Create2",
                "type": "button",
                "input": true
              }
            ],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 2
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "components": [],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            },
            "index": 3
          }
        ],
        "key": "columns11",
        "customConditional": "var isDraftStatus = false;\r\nif (data.caseStatus) {\r\n  isDraftStatus = data.caseStatus.status === \"draft\";\r\n}\r\nvar isCreateMode = instance.options.formMode === 'CREATE';\r\nshow = !isDraftStatus && !isCreateMode;",
        "type": "columns",
        "input": false
      }
    ]
  },
  "attributes": {}
}
