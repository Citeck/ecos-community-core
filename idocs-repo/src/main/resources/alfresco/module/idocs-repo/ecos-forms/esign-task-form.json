{
    "id": "93061f4c-cd59-4d37-bf74-0b4801bb8332",
    "title": "Esign Task form",
    "formKey": "alf_ctrwf:esignTask",
    "formMode": "",
    "description": "",
    "customModule": null,
    "i18n": {
        "en": {
            "Comment": "Comment",
            "Complete": "Complete",
            "Rework": "Rework",
            "Reject": "Reject"
        },
        "ru": {
            "Comment": "Комментарий",
            "Complete": "Подписать",
            "Rework": "На доработку",
            "Reject": "Аннулировать"
        }
    },
    "definition": {
        "components": [
            {
                "conditional": {
                    "show": "",
                    "json": "",
                    "eq": "",
                    "when": ""
                },
                "defaultValue": "",
                "prefix": "",
                "tooltip": "",
                "labelWidth": 30,
                "wysiwyg": false,
                "type": "textarea",
                "suffix": "",
                "calculateValue": "",
                "protected": false,
                "dbIndex": false,
                "inputType": "text",
                "id": "e7zbc5i",
                "persistent": true,
                "customConditional": "",
                "hideLabel": false,
                "tabindex": "",
                "labelMargin": 3,
                "clearOnHide": true,
                "inputFormat": "plain",
                "autoExpand": false,
                "isUploadEnabled": false,
                "tags": [],
                "input": true,
                "alwaysEnabled": false,
                "customDefaultValue": "",
                "unique": false,
                "showCharCount": false,
                "errorLabel": "",
                "widget": {
                    "saveAs": "text",
                    "dateFormat": "yyyy-MM-dd hh:mm a",
                    "format": "yyyy-MM-dd hh:mm a"
                },
                "refreshOn": "",
                "hidden": false,
                "description": "",
                "labelPosition": "top",
                "disabled": false,
                "placeholder": "",
                "key": "comment",
                "validate": {
                    "maxWords": "",
                    "minWords": "",
                    "custom": "",
                    "customPrivate": false,
                    "minLength": "",
                    "pattern": "",
                    "customMessage": "",
                    "json": "",
                    "required": false,
                    "maxLength": ""
                },
                "mask": false,
                "editor": "",
                "dataGridLabel": false,
                "allowCalculateOverride": false,
                "clearOnRefresh": false,
                "multiple": false,
                "tableView": true,
                "label": "Comment",
                "rows": 2,
                "autofocus": false,
                "inputMask": "",
                "showWordCount": false,
                "validateOn": "change",
                "encrypted": false,
                "customClass": "",
                "attributes": {},
                "logic": [],
                "properties": {}
            },
            {
                "refreshOn": [
                    {
                        "label": "outcome_Complete",
                        "value": "outcome_Complete"
                    }
                ],
                "widget": null,
                "hidden": false,
                "conditional": {
                    "show": null,
                    "eq": "",
                    "when": null
                },
                "prefix": "",
                "defaultValue": null,
                "tooltip": "",
                "update": {
                    "rate": 100,
                    "force": false,
                    "type": "any-change",
                    "event": ""
                },
                "description": "",
                "labelWidth": 30,
                "source": {
                    "recordsQuery": {
                        "query": "",
                        "isSingle": false,
                        "attributes": {}
                    },
                    "recordsArray": {
                        "attributes": {},
                        "id": ""
                    },
                    "recordsScript": {
                        "attributes": {},
                        "script": ""
                    },
                    "record": {
                        "attributes": {},
                        "id": ""
                    },
                    "custom": {
                        "syncData": {},
                        "asyncData": {}
                    },
                    "type": "ajax",
                    "ajax": {
                        "mapping": "",
                        "data": "let recordRef = location.href.substr(location.href.indexOf(\"workspace:\"), 60);\nvalue = {\"nodeRef\": recordRef}",
                        "method": "GET",
                        "url": "/citeck/get-document-package"
                    }
                },
                "type": "asyncData",
                "suffix": "",
                "calculateValue": "",
                "protected": false,
                "labelPosition": "top",
                "dbIndex": false,
                "eventName": "",
                "disabled": false,
                "inputType": "asyncData",
                "placeholder": "",
                "id": "et9w80i",
                "persistent": true,
                "key": "nodesToSign",
                "hideLabel": false,
                "validate": {
                    "custom": "",
                    "customPrivate": false,
                    "required": false
                },
                "mask": false,
                "executionCondition": "",
                "dataGridLabel": false,
                "tabindex": "",
                "allowCalculateOverride": false,
                "clearOnRefresh": false,
                "multiple": false,
                "labelMargin": 3,
                "tableView": true,
                "clearOnHide": true,
                "label": "nodesToSign",
                "autofocus": false,
                "tags": [],
                "input": true,
                "validateOn": "change",
                "customDefaultValue": "",
                "unique": false,
                "customClass": "",
                "errorLabel": ""
            },
            {
                "refreshOn": [
                    {
                        "label": "comment",
                        "value": "comment"
                    },
                    {
                        "label": "outcome_Reject",
                        "value": "outcome_Reject"
                    }
                ],
                "widget": null,
                "hidden": false,
                "conditional": {
                    "show": null,
                    "eq": "",
                    "when": null
                },
                "prefix": "",
                "defaultValue": null,
                "tooltip": "",
                "update": {
                    "rate": 100,
                    "force": false,
                    "type": "any-change",
                    "event": ""
                },
                "description": "",
                "labelWidth": 30,
                "source": {
                    "recordsQuery": {
                        "query": "",
                        "isSingle": false,
                        "attributes": {}
                    },
                    "recordsArray": {
                        "attributes": {},
                        "id": ""
                    },
                    "recordsScript": {
                        "attributes": {},
                        "script": ""
                    },
                    "record": {
                        "attributes": {},
                        "id": ""
                    },
                    "custom": {
                        "syncData": {},
                        "asyncData": {}
                    },
                    "type": "ajax",
                    "ajax": {
                        "mapping": "",
                        "data": "let recordRef = location.href.substr(location.href.indexOf(\"workspace:\"), 60);\nvalue = {\n  \"nodeRef\": recordRef,\n  \"comment\": data.comment\n}",
                        "method": "GET",
                        "url": "/citeck/get-documents-to-sign-reject"
                    }
                },
                "type": "asyncData",
                "suffix": "",
                "calculateValue": "",
                "protected": false,
                "labelPosition": "top",
                "dbIndex": false,
                "eventName": "",
                "disabled": false,
                "inputType": "asyncData",
                "placeholder": "",
                "id": "e9czstv",
                "persistent": true,
                "key": "nodesToRejectSign",
                "hideLabel": false,
                "validate": {
                    "custom": "",
                    "customPrivate": false,
                    "required": false
                },
                "mask": false,
                "executionCondition": "",
                "dataGridLabel": false,
                "tabindex": "",
                "allowCalculateOverride": false,
                "clearOnRefresh": false,
                "multiple": false,
                "labelMargin": 3,
                "tableView": true,
                "clearOnHide": true,
                "label": "nodesToRejectSign",
                "autofocus": false,
                "tags": [],
                "input": true,
                "validateOn": "change",
                "customDefaultValue": "",
                "unique": false,
                "customClass": "",
                "errorLabel": ""
            },
            {
                "conditional": {
                    "show": "",
                    "json": "",
                    "eq": "",
                    "when": ""
                },
                "prefix": "",
                "defaultValue": null,
                "tooltip": "",
                "autoAdjust": true,
                "labelWidth": 30,
                "type": "columns",
                "suffix": "",
                "calculateValue": "",
                "protected": false,
                "dbIndex": false,
                "id": "e3v2qm",
                "persistent": false,
                "hideLabel": true,
                "customConditional": "",
                "tabindex": "",
                "labelMargin": 3,
                "clearOnHide": false,
                "tags": [],
                "input": false,
                "alwaysEnabled": false,
                "customDefaultValue": "",
                "unique": false,
                "errorLabel": "",
                "widget": null,
                "refreshOn": "",
                "hidden": false,
                "inlineColumns": false,
                "columns": [
                    {
                        "conditional": {
                            "show": null,
                            "eq": "",
                            "when": null
                        },
                        "prefix": "",
                        "defaultValue": null,
                        "tooltip": "",
                        "labelWidth": 30,
                        "type": "column",
                        "suffix": "",
                        "calculateValue": "",
                        "protected": false,
                        "dbIndex": false,
                        "md": 4,
                        "id": "e1vi43h",
                        "persistent": true,
                        "hideLabel": false,
                        "offset": 0,
                        "tabindex": "",
                        "labelMargin": 3,
                        "index": 0,
                        "clearOnHide": true,
                        "push": 0,
                        "input": false,
                        "customDefaultValue": "",
                        "unique": false,
                        "errorLabel": "",
                        "components": [
                            {
                                "conditional": {
                                    "show": "",
                                    "json": "",
                                    "eq": "",
                                    "when": ""
                                },
                                "prefix": "",
                                "defaultValue": null,
                                "tooltip": "",
                                "labelWidth": 30,
                                "type": "button",
                                "suffix": "",
                                "disableOnInvalid": true,
                                "calculateValue": "",
                                "protected": false,
                                "dbIndex": false,
                                "action": "custom",
                                "block": true,
                                "state": "",
                                "id": "emzzsc3",
                                "persistent": false,
                                "customConditional": "",
                                "hideLabel": false,
                                "showValidations": false,
                                "tabindex": "",
                                "labelMargin": 3,
                                "clearOnHide": true,
                                "tags": [],
                                "input": true,
                                "alwaysEnabled": false,
                                "customDefaultValue": "",
                                "size": "md",
                                "removeIndents": true,
                                "unique": false,
                                "errorLabel": "",
                                "rightIcon": "",
                                "widget": null,
                                "refreshOn": "",
                                "hidden": false,
                                "leftIcon": "",
                                "description": "",
                                "shortcut": "",
                                "labelPosition": "top",
                                "theme": "primary",
                                "disabled": false,
                                "placeholder": "",
                                "key": "outcome_Reject",
                                "mask": false,
                                "validate": {
                                    "custom": "",
                                    "customPrivate": false,
                                    "customMessage": "",
                                    "json": "",
                                    "required": false
                                },
                                "custom": "const {nodesToRejectSign = []} = data;\nif (nodesToRejectSign.length > 0) {\n    Citeck.Esign.sign(nodesToRejectSign, {onSigned : function() {\n         data.outcome_Reject = true;\n         form.submit();\n      }\n    })\n} else {\n  data.outcome_Reject = true;\n  form.submit();\n}",
                                "dataGridLabel": true,
                                "allowCalculateOverride": false,
                                "clearOnRefresh": false,
                                "multiple": false,
                                "tableView": true,
                                "label": "Reject",
                                "autofocus": false,
                                "validateOn": "blur",
                                "encrypted": false,
                                "customClass": "",
                                "attributes": {},
                                "logic": [
                                    {
                                        "name": "event",
                                        "trigger": {
                                            "simple": {
                                                "show": true,
                                                "eq": "",
                                                "when": "comment"
                                            },
                                            "type": "simple"
                                        },
                                        "actions": [
                                            {
                                                "name": "set_disabled",
                                                "property": {
                                                    "label": "Disabled",
                                                    "type": "boolean",
                                                    "value": "disabled"
                                                },
                                                "state": "true",
                                                "type": "property"
                                            }
                                        ]
                                    }
                                ],
                                "properties": {}
                            }
                        ],
                        "widget": null,
                        "refreshOn": "",
                        "hidden": false,
                        "classes": "",
                        "description": "",
                        "labelPosition": "top",
                        "sm": 12,
                        "disabled": false,
                        "placeholder": "",
                        "key": "column1",
                        "validate": {
                            "custom": "",
                            "customPrivate": false,
                            "required": false
                        },
                        "hideOnChildrenHidden": false,
                        "dataGridLabel": false,
                        "allowCalculateOverride": false,
                        "clearOnRefresh": false,
                        "multiple": false,
                        "tableView": true,
                        "label": "",
                        "autofocus": false,
                        "pull": 0,
                        "validateOn": "change",
                        "xl": 0,
                        "width": 4,
                        "customClass": "",
                        "xs": 0,
                        "lg": 0
                    },
                    {
                        "conditional": {
                            "show": null,
                            "eq": "",
                            "when": null
                        },
                        "prefix": "",
                        "defaultValue": null,
                        "tooltip": "",
                        "labelWidth": 30,
                        "type": "column",
                        "suffix": "",
                        "calculateValue": "",
                        "protected": false,
                        "dbIndex": false,
                        "md": 4,
                        "id": "ewxpjqs",
                        "persistent": true,
                        "hideLabel": false,
                        "offset": 0,
                        "tabindex": "",
                        "labelMargin": 3,
                        "index": 1,
                        "clearOnHide": true,
                        "push": 0,
                        "input": false,
                        "customDefaultValue": "",
                        "unique": false,
                        "errorLabel": "",
                        "components": [
                            {
                                "conditional": {
                                    "show": "",
                                    "json": "",
                                    "eq": "",
                                    "when": ""
                                },
                                "prefix": "",
                                "defaultValue": null,
                                "tooltip": "",
                                "labelWidth": 30,
                                "type": "button",
                                "suffix": "",
                                "disableOnInvalid": true,
                                "calculateValue": "",
                                "protected": false,
                                "dbIndex": false,
                                "action": "submit",
                                "block": true,
                                "state": "",
                                "id": "ewiaovb",
                                "persistent": false,
                                "customConditional": "",
                                "hideLabel": false,
                                "tabindex": "",
                                "labelMargin": 3,
                                "clearOnHide": true,
                                "tags": [],
                                "input": true,
                                "alwaysEnabled": false,
                                "customDefaultValue": "",
                                "size": "md",
                                "removeIndents": true,
                                "unique": false,
                                "errorLabel": "",
                                "rightIcon": "",
                                "widget": null,
                                "refreshOn": "",
                                "hidden": false,
                                "leftIcon": "",
                                "description": "",
                                "shortcut": "",
                                "labelPosition": "top",
                                "theme": "primary",
                                "disabled": false,
                                "placeholder": "",
                                "key": "outcome_Rework",
                                "mask": false,
                                "validate": {
                                    "custom": "",
                                    "customPrivate": false,
                                    "customMessage": "",
                                    "json": "",
                                    "required": false
                                },
                                "dataGridLabel": true,
                                "allowCalculateOverride": false,
                                "clearOnRefresh": false,
                                "multiple": false,
                                "tableView": true,
                                "label": "Rework",
                                "autofocus": false,
                                "validateOn": "change",
                                "encrypted": false,
                                "customClass": "",
                                "attributes": {},
                                "logic": [],
                                "properties": {}
                            }
                        ],
                        "widget": null,
                        "refreshOn": "",
                        "hidden": false,
                        "classes": "",
                        "description": "",
                        "labelPosition": "top",
                        "sm": 12,
                        "disabled": false,
                        "placeholder": "",
                        "key": "column2",
                        "validate": {
                            "custom": "",
                            "customPrivate": false,
                            "required": false
                        },
                        "hideOnChildrenHidden": false,
                        "dataGridLabel": false,
                        "allowCalculateOverride": false,
                        "clearOnRefresh": false,
                        "multiple": false,
                        "tableView": true,
                        "label": "",
                        "autofocus": false,
                        "pull": 0,
                        "validateOn": "change",
                        "xl": 0,
                        "width": 4,
                        "customClass": "",
                        "xs": 0,
                        "lg": 0
                    },
                    {
                        "conditional": {
                            "show": null,
                            "eq": "",
                            "when": null
                        },
                        "prefix": "",
                        "defaultValue": null,
                        "tooltip": "",
                        "labelWidth": 30,
                        "type": "column",
                        "suffix": "",
                        "calculateValue": "",
                        "protected": false,
                        "dbIndex": false,
                        "md": 4,
                        "id": "e4sboz",
                        "persistent": true,
                        "hideLabel": false,
                        "offset": 0,
                        "tabindex": "",
                        "labelMargin": 3,
                        "index": 2,
                        "clearOnHide": true,
                        "push": 0,
                        "input": false,
                        "customDefaultValue": "",
                        "unique": false,
                        "errorLabel": "",
                        "components": [
                            {
                                "conditional": {
                                    "show": "",
                                    "json": "",
                                    "eq": "",
                                    "when": ""
                                },
                                "prefix": "",
                                "defaultValue": null,
                                "tooltip": "",
                                "labelWidth": 30,
                                "type": "button",
                                "suffix": "",
                                "disableOnInvalid": true,
                                "calculateValue": "",
                                "protected": false,
                                "dbIndex": false,
                                "action": "custom",
                                "block": true,
                                "state": "",
                                "id": "e5lzwz",
                                "persistent": false,
                                "customConditional": "",
                                "hideLabel": false,
                                "showValidations": false,
                                "tabindex": "",
                                "labelMargin": 3,
                                "clearOnHide": true,
                                "tags": [],
                                "input": true,
                                "alwaysEnabled": false,
                                "customDefaultValue": "",
                                "size": "md",
                                "removeIndents": true,
                                "unique": false,
                                "errorLabel": "",
                                "rightIcon": "",
                                "widget": null,
                                "refreshOn": "",
                                "hidden": false,
                                "leftIcon": "",
                                "description": "",
                                "shortcut": "",
                                "labelPosition": "top",
                                "theme": "primary",
                                "disabled": false,
                                "placeholder": "",
                                "key": "outcome_Complete",
                                "mask": false,
                                "validate": {
                                    "custom": "",
                                    "customPrivate": false,
                                    "customMessage": "",
                                    "json": "",
                                    "required": false
                                },
                                "custom": "const {nodesToSign = []} = data;\nif (nodesToSign.length > 0) {\n    Citeck.Esign.sign(nodesToSign, {onSigned : function() {\n         data.outcome_Complete = true;\n         form.submit();\n      }\n    })\n} else {\n  data.outcome_Complete = true;\n  form.submit();\n}",
                                "dataGridLabel": true,
                                "allowCalculateOverride": false,
                                "clearOnRefresh": false,
                                "multiple": false,
                                "tableView": true,
                                "label": "Complete",
                                "autofocus": false,
                                "validateOn": "blur",
                                "encrypted": false,
                                "customClass": "",
                                "attributes": {},
                                "logic": [],
                                "properties": {}
                            }
                        ],
                        "widget": null,
                        "refreshOn": "",
                        "hidden": false,
                        "classes": "",
                        "description": "",
                        "labelPosition": "top",
                        "sm": 12,
                        "disabled": false,
                        "placeholder": "",
                        "key": "column3",
                        "validate": {
                            "custom": "",
                            "customPrivate": false,
                            "required": false
                        },
                        "hideOnChildrenHidden": false,
                        "dataGridLabel": false,
                        "allowCalculateOverride": false,
                        "clearOnRefresh": false,
                        "multiple": false,
                        "tableView": true,
                        "label": "",
                        "autofocus": false,
                        "pull": 0,
                        "validateOn": "change",
                        "xl": 0,
                        "width": 4,
                        "customClass": "",
                        "xs": 0,
                        "lg": 0
                    }
                ],
                "description": "",
                "labelPosition": "top",
                "disabled": false,
                "placeholder": "",
                "key": "columns",
                "mask": false,
                "validate": {
                    "custom": "",
                    "customPrivate": false,
                    "required": false
                },
                "dataGridLabel": false,
                "allowCalculateOverride": false,
                "clearOnRefresh": false,
                "hideOnChildrenHidden": false,
                "multiple": false,
                "tableView": false,
                "label": "Columns",
                "autofocus": false,
                "validateOn": "change",
                "customClass": "",
                "attributes": {},
                "logic": [],
                "properties": {}
            }
        ],
        "display": "form"
    }
}
