{
  "id": "02347243-639c-4da4-b261-8b47cbca2362",
  "formKey": "alf_idocs:contractor",
  "title": {
    "en": "Idocs contractor form"
  },
  "description": {
    "en": ""
  },
  "customModule": null,
  "typeRef": "",
  "width": "default",
  "i18n": {
    "ru": {
      "Классификация": "Классификация",
      "Название": "Название",
      "Адреса": "Адреса",
      "Реквизиты": "Реквизиты",
      "Контактные данные": "Контактные данные",
      "Ответственные со стороны компании": "Ответственные со стороны компании",
      "Конфигурация": "Конфигурация",
      "Основные реквизиты": "Основные реквизиты",
      "Банковские реквизиты": "Банковские реквизиты",
      "Автозаполнение": "Автозаполнение",
      "Отмена": "Отмена",
      "Сохранить": "Сохранить",
      "Нажмите, чтобы автоматически заполнить поля реквизитов": "Нажмите, чтобы автоматически заполнить поля реквизитов",
      "Некорректный ИНН/ЕГРПОУ": "Некорректный ИНН/ЕГРПОУ",
      "Серия должна содержать только цифры": "Серия должна содержать только цифры",
      "Номер должен содержать только цифры": "Номер должен содержать только цифры",
      "Некорректный формат": "Некорректный формат",
      "Некорректный ОГРНИП": "Некорректный ОГРНИП",
      "Документы": "Документы",
      "Поставщик": "Поставщик",
      "Клиент": "Покупатель",
      "Сотрудник": "Сотрудник",
      "Create": "Создать",
      "Cancel": "Отмена",
      "Save": "Сохранить"
    },
    "en": {
      "Классификация": "Classification",
      "Название": "Title",
      "Адреса": "Addresses",
      "Реквизиты": "Requisites",
      "Контактные данные": "Contact details",
      "Ответственные со стороны компании": "Responsible by the company",
      "Конфигурация": "Configuration",
      "Основные реквизиты": "Basic Details",
      "Банковские реквизиты": "Bank details",
      "Автозаполнение": "Autocomplete",
      "Отмена": "Cancel",
      "Сохранить": "Save",
      "Нажмите, чтобы автоматически заполнить поля реквизитов": "Click to automatically fill in requisites",
      "Некорректный ИНН/ЕГРПОУ": "Incorrect INN/EGRPOU",
      "Серия должна содержать только цифры": " The series must contain only numbers",
      "Номер должен содержать только цифры": "The number must contain only numbers",
      "Некорректный формат": "Invalid format",
      "Некорректный ОГРНИП": "Invalid PSRNSP",
      "Документы": "Documents",
      "Поставщик": "Vendor",
      "Клиент": "Buyer",
      "Сотрудник": "Employee",
      "Create": "Create",
      "Cancel": "Cancel",
      "Save": "Save"
    }
  },
  "definition": {
    "components": [
      {
        "components": [
          {
            "label": "Основные реквизиты",
            "key": "general-data",
            "components": [
              {
                "scrollableContent": true,
                "key": "panel5",
                "type": "panel",
                "input": false,
                "components": [
                  {
                    "title": "Классификация",
                    "type": "panel",
                    "input": false,
                    "key": "panel",
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:contractorType",
                                "data": {
                                  "url": "/citeck/ecos/records/query"
                                },
                                "defaultValue": "",
                                "key": "idocs_contractorType",
                                "properties": {
                                  "attribute": "idocs:contractorType"
                                },
                                "type": "ecosSelect",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column1",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:contractorKind",
                                "data": {
                                  "url": "/citeck/ecos/records/query"
                                },
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_contractorKind",
                                "properties": {
                                  "attribute": "idocs:contractorKind",
                                  "dummy": "dummy"
                                },
                                "type": "ecosSelect",
                                "input": true,
                                "refreshOn": ""
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column2",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "type": "columns",
                        "input": false,
                        "key": "columns",
                        "reorder": false
                      },
                      {
                        "title": "Название",
                        "key": "panel",
                        "type": "panel",
                        "input": false,
                        "components": [
                          {
                            "columns": [
                              {
                                "components": [
                                  {
                                    "label": "idocs:fullOrganizationName",
                                    "defaultValue": "",
                                    "refreshOn": "idocs_contractorKind",
                                    "clearOnRefresh": true,
                                    "customDefaultValue": "\r\n",
                                    "calculateValue": "if (data.idocs_contractorKind === 'individual') {\r\nif (data.idocs_lastName) {\r\n  value = data.idocs_lastName;\r\n}\r\nif (data.idocs_firstName) {\r\n  value = value + \" \" + data.idocs_firstName;\r\n}\r\nif (data.idocs_patronymicName) {\r\n  value = value + \" \" + data.idocs_patronymicName;\r\n}\r\n}",
                                    "allowCalculateOverride": true,
                                    "validate": {
                                      "required": true
                                    },
                                    "key": "idocs_fullOrganizationName",
                                    "properties": {
                                      "attribute": "idocs:fullOrganizationName",
                                      "dummy": "dummy"
                                    },
                                    "logic": [
                                      {
                                        "name": "individual-on",
                                        "trigger": {
                                          "type": "javascript",
                                          "javascript": "result  = data.idocs_contractorKind === 'individual';"
                                        },
                                        "actions": [
                                          {
                                            "name": "disable-on",
                                            "type": "property",
                                            "property": {
                                              "label": "Disabled",
                                              "value": "disabled",
                                              "type": "boolean"
                                            },
                                            "state": "true"
                                          }
                                        ]
                                      }
                                    ],
                                    "type": "textfield",
                                    "input": true
                                  }
                                ],
                                "width": 4,
                                "type": "column",
                                "input": false,
                                "key": "column1",
                                "index": 0,
                                "clearOnHide": true,
                                "conditional": {
                                  "show": null,
                                  "when": null
                                }
                              },
                              {
                                "components": [
                                  {
                                    "label": "idocs:shortOrganizationName",
                                    "defaultValue": "",
                                    "key": "idocs_shortOrganizationName",
                                    "properties": {
                                      "attribute": "idocs:shortOrganizationName",
                                      "dummy": "dummy"
                                    },
                                    "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = !isIndividual;",
                                    "type": "textfield",
                                    "input": true
                                  }
                                ],
                                "width": 4,
                                "type": "column",
                                "input": false,
                                "key": "column2",
                                "index": 1,
                                "clearOnHide": true,
                                "conditional": {
                                  "show": null,
                                  "when": null
                                }
                              },
                              {
                                "width": 4,
                                "type": "column",
                                "input": false,
                                "key": "column3",
                                "components": [
                                  {
                                    "label": "idocs:legalForm",
                                    "journalId": "legal-form",
                                    "customPredicateJs": "value = {t: \"and\", \r\nval: [\r\n  {t: \"not-eq\", att:\"cm:title\", val: \"ИП\"}, \r\n  {t: \"not-eq\", att:\"cm:title\", val: \"Физ. Лицо\"}\r\n  ]\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
                                    "key": "idocs_legalForm",
                                    "properties": {
                                      "attribute": "idocs:legalForm",
                                      "dummy": "dummy"
                                    },
                                    "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'legal-entity' ;\n\nshow = isIndividual;",
                                    "type": "selectJournal",
                                    "input": true,
                                    "tab": 0,
                                    "defaultValue": null
                                  }
                                ],
                                "index": 2,
                                "clearOnHide": true,
                                "conditional": {
                                  "show": null,
                                  "when": null
                                }
                              }
                            ],
                            "key": "columns7",
                            "type": "columns",
                            "input": false
                          }
                        ],
                        "tab": 0
                      }
                    ],
                    "tab": 0,
                    "collapsed": false,
                    "reorder": false
                  },
                  {
                    "title": "Информация физического лица",
                    "type": "panel",
                    "input": false,
                    "key": "panel4",
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:lastName",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_lastName",
                                "properties": {
                                  "attribute": "idocs:lastName",
                                  "dummy": "dummy"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 3,
                            "type": "column",
                            "input": false,
                            "key": "column1",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:firstName",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_firstName",
                                "properties": {
                                  "attribute": "idocs:firstName",
                                  "dummy": "dummy"
                                },
                                "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 3,
                            "type": "column",
                            "input": false,
                            "key": "column2",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "width": 3,
                            "type": "column",
                            "input": false,
                            "key": "column3",
                            "components": [
                              {
                                "label": "idocs:patronymicName",
                                "key": "idocs_patronymicName",
                                "properties": {
                                  "attribute": "idocs:patronymicName",
                                  "dummy": "dummy"
                                },
                                "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "index": 2,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "width": 3,
                            "type": "column",
                            "input": false,
                            "key": "column4",
                            "components": [
                              {
                                "label": "ecos:birthDate",
                                "format": "yyyy-MM-dd",
                                "datePicker": {
                                  "minDate": "",
                                  "maxDate": "moment()"
                                },
                                "enableTime": false,
                                "validate": {
                                  "required": true
                                },
                                "key": "ecos_birthDate",
                                "properties": {
                                  "attribute": "ecos:birthDate",
                                  "dummy": "dummy"
                                },
                                "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "datetime",
                                "input": true,
                                "suffix": true
                              }
                            ],
                            "index": 3,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "type": "columns",
                        "input": false,
                        "key": "columns6",
                        "reorder": false
                      }
                    ],
                    "tab": 0,
                    "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                    "collapsed": false,
                    "reorder": false
                  },
                  {
                    "title": "Документ, удостоверяющий личность",
                    "type": "panel",
                    "input": false,
                    "key": "panel3",
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:numberPass",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_numberPass",
                                "properties": {
                                  "attribute": "idocs:numberPass",
                                  "dummy": "dummy"
                                },
                                "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column5",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:whoIssuedPass",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_whoIssuedPass",
                                "properties": {
                                  "attribute": "idocs:whoIssuedPass",
                                  "dummy": "dummy"
                                },
                                "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column6",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column7",
                            "components": [
                              {
                                "label": "idocs:passIssueDate",
                                "format": "yyyy-MM-dd",
                                "datePicker": {
                                  "minDate": "",
                                  "maxDate": "moment()"
                                },
                                "enableTime": false,
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_passIssueDate",
                                "properties": {
                                  "attribute": "idocs:passIssueDate",
                                  "dummy": "dummy"
                                },
                                "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "datetime",
                                "input": true,
                                "suffix": true
                              }
                            ],
                            "index": 2,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns5",
                        "type": "columns",
                        "input": false
                      }
                    ],
                    "tab": 0,
                    "customConditional": "\nvar kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                    "collapsed": false,
                    "reorder": false
                  },
                  {
                    "title": "Адреса",
                    "key": "panel9",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:juridicalAddress",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_juridicalAddress",
                                "properties": {
                                  "attribute": "idocs:juridicalAddress"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = !isIndividual;",
                                "type": "textfield",
                                "input": true
                              },
                              {
                                "label": "idocs:registrationAddress",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_registrationAddress",
                                "properties": {
                                  "attribute": "idocs:registrationAddress"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column5",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:postAddress",
                                "defaultValue": "",
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_postAddress",
                                "properties": {
                                  "attribute": "idocs:postAddress"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column6",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column7",
                            "components": [],
                            "index": 2,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns12",
                        "type": "columns",
                        "input": false
                      }
                    ],
                    "tab": 0
                  },
                  {
                    "title": "Реквизиты",
                    "key": "panel10",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "Автозаполнение",
                                "action": "custom",
                                "state": "",
                                "theme": "primary",
                                "tooltip": "Нажмите, чтобы автоматически заполнить поля реквизитов",
                                "key": "dadata_loader",
                                "customConditional": "var isEntInstalled = data.isEntInstalled === 'true';\n\nshow = isEntInstalled;",
                                "type": "button",
                                "input": true,
                                "showValidations": false,
                                "custom": "var inn = data.idocs_inn;\n\nif (inn) {\n    fetch('/micro/integrations/records/query',{\n        method: 'POST',\n        credentials: 'include',\n        headers: {'Content-type': 'application/json;charset=UTF-8'},\n        body: JSON.stringify({\n            \"query\": {\n                \"sourceId\": \"dadata-party\",\n                \"query\":{\"tin\": inn},\n                \"attributes\": {\"subjectName\": \"subjectName\"},\n                \"main\": true\n            }})\n    }).then(response => { return response.json();}).then(function (response){\n\n      response = (response.suggestions || [])[0];\n\n      var attributes = [\n          'idocs_fullOrganizationName',\n          'idocs_shortOrganizationName',\n          'idocs_juridicalAddress',\n          'idocs_kpp',\n          'idocs_ogrn',\n          'idocs_okpo',\n          'idocs_CEOname',\n          'idocs_postAddress'\n      ];\n      var map = {\n          'idocs_fullOrganizationName': function(){return response.value},\n          'idocs_shortOrganizationName': function(){return response.unrestricted_value},\n          'idocs_juridicalAddress': function(){return response.data.address.unrestricted_value},\n          'idocs_kpp': function(){return response.data.kpp},\n          'idocs_ogrn': function(){return response.data.ogrn},\n          'idocs_okpo': function(){return response.data.okpo},\n          'idocs_CEOname': function(){return response.data.management.post + ', ' + response.data.management.name},\n          'idocs_postAddress': function(){return response.data.address.unrestricted_value},\n      };\n      var needAsk = false;\n\n      if (response) {\n          for (var i=0, count=attributes.length; i < count; i++) {\n              var attribute = attributes[i];\n              var formAttributeValue = data[attribute];\n\n              if (formAttributeValue && formAttributeValue !== map[attribute]()) {\n                  needAsk = true;\n                  break;\n              }\n          }\n\n          var rewrite = () => {\n              utils.eachComponent(form.components, component => {\n                  var newValue = map[component.key] && map[component.key]();\n                  newValue && component.setValue(newValue);\n              });\n          };\n\n          needAsk ? Citeck.forms.confirm('Перезаписать заполненные поля формы?', rewrite):rewrite();\n      }\n    });\n}"
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column5",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column6",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column7",
                            "components": [
                              {
                                "label": "idocs:inn",
                                "defaultValue": "",
                                "validate": {
                                  "required": true,
                                  "pattern": "^\\d{8}$|^\\d{10}$|^\\d{12}$",
                                  "customMessage": "Некорректный ИНН/ЕГРПОУ"
                                },
                                "key": "idocs_inn",
                                "properties": {
                                  "attribute": "idocs:inn"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "index": 2,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "index": 3,
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:kpp",
                                "defaultValue": "",
                                "key": "idocs_kpp",
                                "properties": {
                                  "attribute": "idocs:kpp"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = !isIndividual;",
                                "type": "textfield",
                                "input": true
                              },
                              {
                                "label": "idocs:inila",
                                "defaultValue": "",
                                "key": "idocs_inila",
                                "properties": {
                                  "attribute": "idocs:inila"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "index": 4,
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:okpo",
                                "defaultValue": "",
                                "key": "idocs_okpo",
                                "properties": {
                                  "attribute": "idocs:okpo"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = !isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "index": 5,
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:ogrn",
                                "defaultValue": "",
                                "key": "idocs_ogrn",
                                "properties": {
                                  "attribute": "idocs:ogrn"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual' || kind === 'individual-entrepreneur';\n\nshow = !isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns13",
                        "type": "columns",
                        "input": false
                      },
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:psrnsp",
                                "defaultValue": "",
                                "key": "idocs_psrnsp",
                                "properties": {
                                  "attribute": "idocs:psrnsp"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "index": 1,
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:series",
                                "defaultValue": "",
                                "key": "idocs_series",
                                "properties": {
                                  "attribute": "idocs:series"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "index": 2,
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:number",
                                "defaultValue": "",
                                "key": "idocs_number",
                                "properties": {
                                  "attribute": "idocs:number"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns15",
                        "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividualEnt = kind === 'individual-entrepreneur';\n\nshow = isIndividualEnt;",
                        "type": "columns",
                        "input": false
                      }
                    ],
                    "tab": 0
                  },
                  {
                    "title": "Контактные данные",
                    "key": "panel11",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:phone",
                                "defaultValue": "",
                                "key": "idocs_phone",
                                "properties": {
                                  "attribute": "idocs:phone"
                                },
                                "type": "textfield",
                                "input": true
                              },
                              {
                                "label": "idocs:CEOname",
                                "defaultValue": "",
                                "key": "idocs_CEOname",
                                "properties": {
                                  "attribute": "idocs:CEOname"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = !isIndividual;",
                                "logic": [
                                  {
                                    "name": "Contractor kind not individual-entrepreneur",
                                    "trigger": {
                                      "type": "javascript",
                                      "javascript": "var kind = data['idocs_contractorKind'];\n\nresult = (!!kind && kind !== 'individual-entrepreneur');"
                                    },
                                    "actions": [
                                      {
                                        "name": "Required",
                                        "type": "property",
                                        "property": {
                                          "label": "Required",
                                          "value": "validate.required",
                                          "type": "boolean"
                                        },
                                        "state": "true"
                                      }
                                    ]
                                  }
                                ],
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column5",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [
                              {
                                "label": "idocs:fax",
                                "defaultValue": "",
                                "key": "idocs_fax",
                                "properties": {
                                  "attribute": "idocs:fax"
                                },
                                "type": "textfield",
                                "input": true
                              },
                              {
                                "label": "idocs:nameInGenitiveCase",
                                "defaultValue": "",
                                "key": "idocs_nameInGenitiveCase",
                                "properties": {
                                  "attribute": "idocs:nameInGenitiveCase"
                                },
                                "customConditional": "var kind = data ? data['idocs_contractorKind'] : null;\n\nvar isIndividual = kind === 'individual';\n\nshow = !isIndividual;",
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column6",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "width": 4,
                            "type": "column",
                            "input": false,
                            "key": "column7",
                            "components": [
                              {
                                "label": "idocs:email",
                                "defaultValue": "",
                                "validate": {
                                  "pattern": "^(|[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]+)$",
                                  "customMessage": "Некорректный формат"
                                },
                                "key": "idocs_email",
                                "properties": {
                                  "attribute": "idocs:email"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "index": 2,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns14",
                        "type": "columns",
                        "input": false
                      }
                    ],
                    "tab": 0
                  },
                  {
                    "title": "Ответственные со стороны компании",
                    "type": "panel",
                    "input": false,
                    "key": "panel2",
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:initiator",
                                "currentUserByDefault": true,
                                "validate": {
                                  "required": true
                                },
                                "key": "idocs_initiator",
                                "properties": {
                                  "attribute": "idocs:initiator",
                                  "dummy": "dummy"
                                },
                                "type": "selectOrgstruct",
                                "input": true,
                                "allUsersGroup": "all"
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column22",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "components": [
                              {
                                "label": "ecos:responsible",
                                "currentUserByDefault": true,
                                "validate": {
                                  "required": true
                                },
                                "key": "ecos_responsible",
                                "properties": {
                                  "attribute": "ecos:responsible",
                                  "dummy": "dummy"
                                },
                                "type": "selectOrgstruct",
                                "input": true,
                                "allUsersGroup": "all"
                              }
                            ],
                            "type": "column",
                            "input": false,
                            "key": "column23",
                            "index": 1,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns4",
                        "type": "columns",
                        "input": false
                      }
                    ],
                    "tab": 0,
                    "collapsed": false,
                    "reorder": false
                  },
                  {
                    "title": "Конфигурация",
                    "key": "panel8",
                    "type": "panel",
                    "input": false,
                    "components": [
                      {
                        "columns": [
                          {
                            "components": [
                              {
                                "label": "idocs:doNotSendContractToEdiFlag",
                                "key": "idocs_doNotSendContractToEdiFlag",
                                "properties": {
                                  "attribute": "idocs:doNotSendContractToEdiFlag?bool"
                                },
                                "type": "checkbox",
                                "input": true
                              }
                            ],
                            "classes": "d-flex justify-content-start align-items-center",
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "index": 0,
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          },
                          {
                            "index": 1,
                            "type": "column",
                            "input": false,
                            "key": "column",
                            "label": "Column",
                            "components": [
                              {
                                "label": "idocs:diadocBoxId",
                                "defaultValue": "",
                                "key": "idocs_diadocBoxId",
                                "properties": {
                                  "attribute": "idocs:diadocBoxId"
                                },
                                "type": "textfield",
                                "input": true
                              }
                            ],
                            "clearOnHide": true,
                            "conditional": {
                              "show": null,
                              "when": null
                            }
                          }
                        ],
                        "key": "columns11",
                        "type": "columns",
                        "input": false
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "label": "Банковские реквизиты",
            "key": "bank-data",
            "components": [
              {
                "scrollableContent": true,
                "key": "panel6",
                "type": "panel",
                "input": false,
                "components": [
                  {
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "idocs:bankTitle",
                            "defaultValue": "",
                            "key": "idocs_bankTitle",
                            "properties": {
                              "attribute": "idocs:bankTitle",
                              "dummy": "dummy"
                            },
                            "logic": [
                              {
                                "name": "Contractor kind is legal-entity",
                                "trigger": {
                                  "type": "simple",
                                  "simple": {
                                    "show": true,
                                    "when": "idocs_contractorKind",
                                    "eq": "legal-entity"
                                  }
                                },
                                "actions": [
                                  {
                                    "name": "Required",
                                    "type": "property",
                                    "property": {
                                      "label": "Required",
                                      "value": "validate.required",
                                      "type": "boolean"
                                    },
                                    "state": "true"
                                  }
                                ]
                              }
                            ],
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column27",
                        "index": 0,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "components": [
                          {
                            "label": "idocs:bankTitleEng",
                            "defaultValue": "",
                            "key": "idocs_bankTitleEng",
                            "properties": {
                              "attribute": "idocs:bankTitleEng",
                              "dummy": "dummy"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column28",
                        "index": 1,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column29",
                        "components": [
                          {
                            "label": "idocs:bankId",
                            "defaultValue": "",
                            "key": "idocs_bankId",
                            "properties": {
                              "attribute": "idocs:bankId",
                              "dummy": "dummy"
                            },
                            "logic": [
                              {
                                "name": "Contractor kind is legal-entity",
                                "trigger": {
                                  "type": "simple",
                                  "simple": {
                                    "show": true,
                                    "when": "idocs_contractorKind",
                                    "eq": "legal-entity"
                                  }
                                },
                                "actions": [
                                  {
                                    "name": "Required",
                                    "type": "property",
                                    "property": {
                                      "label": "Required",
                                      "value": "validate.required",
                                      "type": "boolean"
                                    },
                                    "state": "true"
                                  }
                                ]
                              }
                            ],
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "index": 2,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      }
                    ],
                    "key": "columns",
                    "type": "columns",
                    "input": false,
                    "tab": 1
                  },
                  {
                    "label": "Columns2",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "idocs:accountNumber",
                            "defaultValue": "",
                            "key": "idocs_accountNumber",
                            "properties": {
                              "attribute": "idocs:accountNumber",
                              "dummy": "dummy"
                            },
                            "logic": [
                              {
                                "name": "Contractor kind is legal-entity",
                                "trigger": {
                                  "type": "simple",
                                  "simple": {
                                    "show": true,
                                    "when": "idocs_contractorKind",
                                    "eq": "legal-entity"
                                  }
                                },
                                "actions": [
                                  {
                                    "name": "Required",
                                    "type": "property",
                                    "property": {
                                      "label": "Required",
                                      "value": "validate.required",
                                      "type": "boolean"
                                    },
                                    "state": "true"
                                  }
                                ]
                              }
                            ],
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column30",
                        "index": 0,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "components": [
                          {
                            "label": "idocs:swift",
                            "defaultValue": "",
                            "key": "idocs_swift",
                            "properties": {
                              "attribute": "idocs:swift",
                              "dummy": "dummy"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column31",
                        "index": 1,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column32",
                        "components": [
                          {
                            "label": "idocs:currencyEnabled",
                            "labelPosition": "left-left",
                            "key": "idocs_currencyEnabled",
                            "properties": {
                              "attribute": "idocs:currencyEnabled?bool",
                              "dummy": "dummy"
                            },
                            "labelMargin": 15,
                            "type": "checkbox",
                            "input": true
                          }
                        ],
                        "index": 2,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      }
                    ],
                    "key": "columns2",
                    "type": "columns",
                    "input": false,
                    "tab": 1
                  },
                  {
                    "label": "Columns3",
                    "columns": [
                      {
                        "components": [
                          {
                            "label": "idocs:corresponentBankTitle",
                            "defaultValue": "",
                            "key": "idocs_corresponentBankTitle",
                            "properties": {
                              "attribute": "idocs:corresponentBankTitle",
                              "dummy": "dummy"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column33",
                        "index": 0,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "components": [
                          {
                            "label": "idocs:correspondentBankId",
                            "defaultValue": "",
                            "key": "idocs_correspondentBankId",
                            "properties": {
                              "attribute": "idocs:correspondentBankId",
                              "dummy": "dummy"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column34",
                        "index": 1,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      },
                      {
                        "width": 4,
                        "type": "column",
                        "input": false,
                        "key": "column35",
                        "components": [
                          {
                            "label": "idocs:corresponentAccountNumber",
                            "defaultValue": "",
                            "key": "idocs_corresponentAccountNumber",
                            "properties": {
                              "attribute": "idocs:corresponentAccountNumber",
                              "dummy": "dummy"
                            },
                            "type": "textfield",
                            "input": true
                          }
                        ],
                        "index": 2,
                        "clearOnHide": true,
                        "conditional": {
                          "show": null,
                          "when": null
                        }
                      }
                    ],
                    "key": "columns3",
                    "type": "columns",
                    "input": false,
                    "tab": 1
                  }
                ]
              }
            ]
          }
        ],
        "tabindex": "1",
        "key": "tabs",
        "type": "tabs",
        "input": false
      },
      {
        "hideLabel": true,
        "columns": [
          {
            "components": [
              {
                "source": {
                  "type": "ajax",
                  "ajax": {
                    "method": "GET",
                    "url": "/citeck/info/is-ent-installed",
                    "data": "value = {}",
                    "mapping": "value = data.isEntInstalled;"
                  },
                  "forceLoad": false
                },
                "type": "asyncData",
                "input": true,
                "key": "isEntInstalled",
                "update": {
                  "type": "any-change"
                },
                "refreshOn": "",
                "conditional": {
                  "show": null,
                  "when": null
                }
              }
            ],
            "width": 3,
            "type": "column",
            "input": false,
            "key": "column1",
            "md": 3,
            "index": 0,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "components": [],
            "width": 3,
            "type": "column",
            "input": false,
            "key": "column2",
            "index": 1,
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "width": 3,
            "type": "column",
            "input": false,
            "key": "column3",
            "components": [],
            "index": 2,
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "width": 3,
            "type": "column",
            "input": false,
            "key": "column4",
            "components": [],
            "index": 3,
            "md": 3,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          }
        ],
        "autoAdjust": true,
        "key": "columns",
        "type": "columns",
        "input": false
      },
      {
        "columns": [
          {
            "components": [],
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 0,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 1,
            "components": [
              {
                "label": "Cancel",
                "action": "event",
                "state": "",
                "showValidations": false,
                "event": "cancel",
                "block": true,
                "key": "Cancel",
                "type": "button",
                "input": true
              }
            ],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 2,
            "components": [
              {
                "label": "Create",
                "state": "",
                "theme": "primary",
                "block": true,
                "disableOnInvalid": true,
                "key": "Create",
                "type": "button",
                "input": true
              }
            ],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 3,
            "components": [],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          }
        ],
        "key": "columns9",
        "customConditional": "var isDraftStatus = false;\r\nif (data.caseStatus) {\r\n  isDraftStatus = data.caseStatus.status === \"draft\";\r\n}\r\nvar isCreateMode = instance.options.formMode === 'CREATE';\r\nshow = isDraftStatus || isCreateMode;\r\n",
        "type": "columns",
        "input": false
      },
      {
        "columns": [
          {
            "components": [],
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 0,
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 1,
            "components": [
              {
                "label": "Cancel",
                "action": "event",
                "state": "",
                "showValidations": false,
                "event": "cancel",
                "block": true,
                "key": "Cancel2",
                "type": "button",
                "input": true
              }
            ],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 2,
            "components": [
              {
                "label": "Save",
                "state": "",
                "theme": "primary",
                "block": true,
                "disableOnInvalid": true,
                "key": "Create2",
                "type": "button",
                "input": true
              }
            ],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "label": "Column",
            "index": 3,
            "components": [],
            "clearOnHide": true,
            "conditional": {
              "show": null,
              "when": null
            }
          }
        ],
        "key": "columns10",
        "customConditional": "var isDraftStatus = false;\r\nif (data.caseStatus) {\r\n  isDraftStatus = data.caseStatus.status === \"draft\";\r\n}\r\nvar isCreateMode = instance.options.formMode === 'CREATE';\r\nshow = !isDraftStatus && !isCreateMode;",
        "type": "columns",
        "input": false
      }
    ],
    "display": "form"
  },
  "attributes": {}
}
